{"version":3,"sources":["components/home-content.tsx","components/footer.tsx","components/loading.tsx","components/main-nav.tsx","components/login-button.tsx","components/logout-button.tsx","components/authentication-button.tsx","components/auth-nav.tsx","components/nav-bar.tsx","views/home.tsx","views/profile.tsx","views/listings.tsx","views/mylistings.tsx","views/listabook.tsx","auth/protected-route.tsx","app.tsx","auth/auth0-provider-with-history.tsx","index.tsx"],"names":["HomeContent","className","Footer","Loading","src","alt","MainNav","to","exact","activeClassName","LoginButton","loginWithRedirect","useAuth0","onClick","LogoutButton","logout","returnTo","window","location","origin","AuthenticationButton","isAuthenticated","AuthNav","NavBar","Home","Profile","user","console","log","name","picture","email","JSON","stringify","Listings","bookList","setBookList","useState","useEffect","Axios","get","serverUrl","then","response","data","map","val","title","author","genres","userEmail","Modal","setAppElement","MyListings","getAccessTokenSilently","undefined","process","userId","sub","split","editIsOpen","setEditIsOpen","selectedBook","setSelectedBook","updatedBookTitle","setUpdatedBookTitle","updatedBookAuthor","setUpdatedBookAuthor","updatedBookGenre","setUpdatedBookGenre","getMyListings","async","token","params","headers","Authorization","catch","err","alert","deleteListing","bookId","delete","reload","editEventHandler","genre","updateListing","put","bookTitle","bookAuthor","bookGenre","id","confirm","isOpen","contentLabel","overlayClassName","type","defaultValue","onChange","e","target","value","ListABook","setBookTitle","setBookAuthor","setBookGenre","addListing","post","ProtectedRoute","component","args","withAuthenticationRequired","onRedirecting","App","affectedRows","addUserToDb","path","Auth0ProviderWithHistory","children","domain","clientId","history","useHistory","onRedirectCallback","appState","push","pathname","redirectUri","audience","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a8f9a5e6.chunk.js","sourcesContent":["import React from \"react\";\r\n//import SearchField from \"react-search-field\";\r\n\r\nconst HomeContent = () => (\r\n  <div className=\"welcome\">\r\n    <h2 className=\"my-5 text-center\">Welcome to Book Swap</h2>\r\n    {/* <SearchField\r\n      placeholder=\"Search...\"\r\n      onChange={() => {\r\n        console.log(\"hello\");\r\n      }}\r\n      searchText=\"This is initial search text\"\r\n      classNames=\"test-class\"\r\n    /> */}\r\n\r\n    <p>Find a free book</p>\r\n\r\n    {/* <div className=\"row\">\r\n      <div className=\"col-md-5 mb-4\">\r\n        <h6 className=\"mb-3\">\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://auth0.com/docs/connections\"\r\n          >\r\n            <i className=\"fas fa-link mr-2\" />\r\n            Configure other identity providers\r\n          </a>\r\n        </h6>\r\n        <p>\r\n          Auth0 supports social providers as Facebook, Twitter, Instagram and\r\n          100+, Enterprise providers as Microsoft Office 365, Google Apps,\r\n          Azure, and more. You can also use any OAuth2 Authorization Server.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"col-md\" />\r\n\r\n      <div className=\"col-md-5 mb-4\">\r\n        <h6 className=\"mb-3\">\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://auth0.com/docs/multifactor-authentication\"\r\n          >\r\n            <i className=\"fas fa-link mr-2\" />\r\n            Enable Multi-Factor Authentication\r\n          </a>\r\n        </h6>\r\n        <p>\r\n          Add an extra layer of security by enabling Multi-factor\r\n          Authentication, requiring your users to provide more than one piece of\r\n          identifying information. Push notifications, authenticator apps, SMS,\r\n          and DUO Security are supported.\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"row\">\r\n      <div className=\"col-md-5 mb-4\">\r\n        <h6 className=\"mb-3\">\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://auth0.com/docs/anomaly-detection\"\r\n          >\r\n            <i className=\"fas fa-link mr-2\" />\r\n            Anomaly Detection\r\n          </a>\r\n        </h6>\r\n        <p>\r\n          Auth0 can detect anomalies and stop malicious attempts to access your\r\n          application. Anomaly detection can alert you and your users of\r\n          suspicious activity, as well as block further login attempts.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"col-md\" />\r\n\r\n      <div className=\"col-md-5 mb-4\">\r\n        <h6 className=\"mb-3\">\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://auth0.com/docs/rules\"\r\n          >\r\n            <i className=\"fas fa-link mr-2\" />\r\n            Learn About Rules\r\n          </a>\r\n        </h6>\r\n        <p>\r\n          Rules are JavaScript functions that execute when a user authenticates\r\n          to your application. They run once the authentication process is\r\n          complete, and you can use them to customize and extend Auth0's\r\n          capabilities.\r\n        </p>\r\n      </div>\r\n    </div> */}\r\n  </div>\r\n);\r\n\r\nexport default HomeContent;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => (\r\n  <footer className=\"bg-light p-3 text-center\">\r\n    <br />\r\n    <p>BookSwap by Kombe Kampanga</p>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nconst loadingImg = \"../../../images/loading.gif\";\r\n\r\nconst Loading = () => (\r\n  <div className=\"spinner\">\r\n    <img src={loadingImg} alt=\"Loading...\" />\r\n  </div>\r\n);\r\n\r\nexport default Loading;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst MainNav = () => (\r\n  <div className=\"navbar-nav mr-auto\">\r\n    <NavLink\r\n      to=\"/\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      Home\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/profile\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      Profile\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/listings\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      All Listings\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/mylistings\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      My Listings\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/listabook\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      List a Book\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/external-api\"\r\n      exact\r\n      className=\"nav-link\"\r\n      activeClassName=\"router-link-exact-active\"\r\n    >\r\n      External API\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default MainNav;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LoginButton = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n  return (\r\n    <button\r\n      className=\"btn btn-primary btn-block\"\r\n      onClick={() => loginWithRedirect()}\r\n    >\r\n      Log In\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LoginButton;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LogoutButton = () => {\r\n  const { logout } = useAuth0();\r\n  return (\r\n    <button\r\n      className=\"btn btn-danger btn-block\"\r\n      onClick={() =>\r\n        logout({\r\n          returnTo: window.location.origin,\r\n        })\r\n      }\r\n    >\r\n      Log Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LogoutButton;\r\n","import React from \"react\";\r\n\r\nimport LoginButton from \"./login-button\";\r\nimport LogoutButton from \"./logout-button\";\r\n\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst AuthenticationButton = () => {\r\n  const { isAuthenticated } = useAuth0();\r\n\r\n  return isAuthenticated ? <LogoutButton /> : <LoginButton />;\r\n};\r\n\r\nexport default AuthenticationButton;\r\n\r\n//if they arent logged in they see log in\r\n//if they are logged in they see log out\r\n","import React from \"react\";\r\nimport AuthenticationButton from \"./authentication-button\";\r\n\r\nconst AuthNav = () => (\r\n  <div className=\"navbar-nav ml-auto\">\r\n    <AuthenticationButton />\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from \"react\";\r\n\r\nimport MainNav from \"./main-nav\";\r\nimport AuthNav from \"./auth-nav\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <div className=\"nav-container mb-3\">\r\n      <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\r\n        <div className=\"container\">\r\n          <div className=\"navbar-brand logo\" />\r\n          <MainNav />\r\n          <AuthNav />\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { HomeContent } from \"../components\";\r\n\r\nconst Home = () => (\r\n  <Fragment>\r\n    <hr />\r\n    <HomeContent />\r\n  </Fragment>\r\n);\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst Profile = () => {\r\n  const { user } = useAuth0();\r\n  console.log(user);\r\n  // @ts-ignore\r\n  const { name, picture, email } = user;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row align-items-center profile-header\">\r\n        <div className=\"col-md-2 mb-3\">\r\n          <img\r\n            src={picture}\r\n            alt=\"Profile\"\r\n            className=\"rounded-circle img-fluid profile-picture mb-3 mb-md-0\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md text-center text-md-left\">\r\n          <h2>{name}</h2>\r\n          <p className=\"lead text-muted\">{email}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <pre className=\"col-12 text-light bg-dark p-4\">\r\n          {JSON.stringify(user, null, 2)}\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport {Profile};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport Axios from \"axios\";\r\nimport { BookDto } from \"../models/BookDto\";\r\n\r\nconst Listings = () => {\r\n  const { user } = useAuth0();\r\n  const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n  //const { name, picture, email } = user;\r\n  const [bookList, setBookList] = useState<BookDto[]>([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get(serverUrl + \"/api/listings/get\").then((response) => {\r\n      setBookList(response.data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {/* {JSON.stringify(user, null, 2)} */}\r\n      {bookList.map((val) => {\r\n        return (\r\n          <div className=\"card\">\r\n            <h1>{val.title}</h1>\r\n            <h4>By {val.author}</h4>\r\n            <h5>{val.genres}</h5>\r\n            <p>Listed by {val.userEmail}</p>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport {Listings};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport Axios from \"axios\";\r\nimport Modal from \"react-modal\";\r\nimport \"./editListingModal.css\";\r\nimport { BookDto } from \"../models/BookDto\";\r\n\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst MyListings = () => {\r\n  const { user, getAccessTokenSilently } = useAuth0();\r\n  if (user != undefined){\r\n    const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n    const userId = user.sub?.split(\"|\")[1];\r\n\r\n    const { name, picture, email } = user;\r\n\r\n    const [bookList, setBookList] = useState<BookDto[]>([]);\r\n    const [editIsOpen, setEditIsOpen] = useState(false);\r\n\r\n    const [selectedBook, setSelectedBook] = useState<BookDto>();\r\n\r\n    const [updatedBookTitle, setUpdatedBookTitle] = useState(\"\");\r\n    const [updatedBookAuthor, setUpdatedBookAuthor] = useState(\"\");\r\n    const [updatedBookGenre, setUpdatedBookGenre] = useState(\"\");\r\n\r\n    const getMyListings = async () => {\r\n      const token = await getAccessTokenSilently();\r\n\r\n      Axios.get(serverUrl + \"/api/listings/my-listings/get\", {\r\n        params: { userId: userId },\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          setBookList(response.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          alert(err.response.data);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n      getMyListings();\r\n    }, []);\r\n\r\n    const deleteListing = async (bookId: number) => {\r\n      const token = await getAccessTokenSilently();\r\n      console.log(bookId);\r\n      Axios.delete(serverUrl + \"/api/listings/my-listings/delete/\", {\r\n        data: { userId: userId, bookId: bookId },\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then(() => {\r\n          setEditIsOpen(false);\r\n          setSelectedBook(undefined);\r\n          alert(\"Listing Deleted\");\r\n          window.location.reload();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          alert(err.response.data);\r\n        });\r\n    };\r\n\r\n    const editEventHandler = (val) => {\r\n      setSelectedBook(val);\r\n      setEditIsOpen(true);\r\n      setUpdatedBookTitle(val.title);\r\n      setUpdatedBookAuthor(val.author);\r\n      setUpdatedBookGenre(val.genre);\r\n    };\r\n\r\n    const updateListing = async (bookId) => {\r\n      const token = await getAccessTokenSilently();\r\n      console.log(bookId);\r\n      Axios.put(\r\n        serverUrl + \"/api/listings/my-listings/update\",\r\n        {\r\n          userId: userId,\r\n          bookId: bookId,\r\n          bookTitle: updatedBookTitle,\r\n          bookAuthor: updatedBookAuthor,\r\n          bookGenre: updatedBookGenre,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n        .then(() => {\r\n          alert(updatedBookTitle + \" listing updated\");\r\n          setUpdatedBookTitle(\"\");\r\n          setUpdatedBookAuthor(\"\");\r\n          setUpdatedBookGenre(\"\");\r\n          setEditIsOpen(false);\r\n          setSelectedBook(undefined);\r\n          window.location.reload();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          alert(err.response.data);\r\n        });\r\n    };\r\n\r\n    return (\r\n      <div className=\"myListings\">\r\n        {bookList.map((val) => {\r\n          return (\r\n            <div className=\"card\">\r\n              <h1>{val.title}</h1>\r\n              <h4>By {val.author}</h4>\r\n              <p>{val.genres}</p>\r\n\r\n              <div id=\"editListing\">\r\n                <button\r\n                  onClick={() => {\r\n                    editEventHandler(val);\r\n                  }}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    const deleteConfirmed = window.confirm(\r\n                      \"Are you sure you want to delete this listing for \" +\r\n                        val.title +\r\n                        \"?\"\r\n                    );\r\n                    if (deleteConfirmed) {\r\n                      console.log(\"Confirmed deletion\");\r\n                      deleteListing(val.id);\r\n                    } else {\r\n                      console.log(\"pressed cancel\");\r\n                    }\r\n                  }}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {editIsOpen && (\r\n          <div className=\"modalBackground\">\r\n            <Modal\r\n              isOpen={editIsOpen}\r\n              contentLabel=\"My dialog\"\r\n              className=\"mymodal\"\r\n              overlayClassName=\"myoverlay\"\r\n            >\r\n              <div className=\"xModalBtn\">\r\n                <button\r\n                  onClick={() => {\r\n                    setEditIsOpen(false);\r\n                    setSelectedBook(undefined);\r\n                  }}\r\n                >\r\n                  X\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"modalTitle\">\r\n                <h1>Edit Your Listing</h1>\r\n              </div>\r\n              <div className=\"modalBody\">\r\n                <label>Title:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"Title\"\r\n                  defaultValue={selectedBook?.title}\r\n                  onChange={(e) => {\r\n                    setUpdatedBookTitle(e.target.value);\r\n                  }}\r\n                />\r\n                <label>Author:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"Author\"\r\n                  defaultValue={selectedBook?.author}\r\n                  onChange={(e) => {\r\n                    setUpdatedBookAuthor(e.target.value);\r\n                  }}\r\n                />\r\n                <label>Genre:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"Genre\"\r\n                  defaultValue={selectedBook?.genres}\r\n                  onChange={(e) => {\r\n                    setUpdatedBookGenre(e.target.value);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"modalFooter\">\r\n                <button\r\n                  onClick={() => {\r\n                    setEditIsOpen(false);\r\n                    setSelectedBook(undefined);\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    updateListing(selectedBook?.id);\r\n                  }}\r\n                >\r\n                  Save\r\n                </button>\r\n                <button\r\n                  id=\"deleteBtn\"\r\n                  onClick={() => {\r\n                    const deleteConfirmed = window.confirm(\r\n                      \"Are you sure you want to delete this listing for \" +\r\n                        selectedBook?.title +\r\n                        \"?\"\r\n                    );\r\n                    if (deleteConfirmed && selectedBook?.id != undefined) {\r\n                      console.log(\"Confirmed deletion\");\r\n                      deleteListing(selectedBook?.id);\r\n                    } else {\r\n                      console.log(\"pressed cancel\");\r\n                    }\r\n                  }}\r\n                >\r\n                  Delete Listing\r\n                </button>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nexport {MyListings};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport Axios from \"axios\";\r\nimport { BookDto } from \"../models/BookDto\";\r\n\r\nconst ListABook = () => {\r\n  const { user, getAccessTokenSilently } = useAuth0();\r\n  if (user != undefined){\r\n    const { name, picture, email } = user;\r\n    const userId = user.sub?.split(\"|\")[1];\r\n    const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\n    const [bookTitle, setBookTitle] = useState(\"\");\r\n    const [bookAuthor, setBookAuthor] = useState(\"\");\r\n    const [bookGenre, setBookGenre] = useState(\"\");\r\n    const [bookList, setBookList] = useState<BookDto[]>([]);\r\n\r\n    const getMyListings = async () => {\r\n      const token = await getAccessTokenSilently();\r\n\r\n      Axios.get(serverUrl + \"/api/listings/my-listings/get\", {\r\n        params: { userId: userId },\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          setBookList(response.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          alert(err.response.data);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n      getMyListings();\r\n    }, []);\r\n\r\n    const addListing = async () => {\r\n      const token = await getAccessTokenSilently();\r\n      Axios.post(\r\n        serverUrl + \"/api/listings/my-listings/insert\",\r\n        {\r\n          userId: userId,\r\n          userEmail: email,\r\n          bookTitle: bookTitle,\r\n          bookAuthor: bookAuthor,\r\n          bookGenre: bookGenre,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n        .then(() => {\r\n          alert(\"Listing Added\");\r\n          window.location.reload();\r\n          // Array.from(document.querySelectorAll(\"input\")).forEach(\r\n          //   (input) => (input.value = \"\")\r\n          //);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response);\r\n          alert(err.response.data);\r\n        });\r\n    };\r\n\r\n    return (\r\n      <div className=\"listabook\">\r\n        <h1>List a Book</h1>\r\n        <div className=\"form\">\r\n          <label>Title:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"Title\"\r\n            onChange={(e) => setBookTitle(e.target.value)}\r\n          />\r\n          <label>Author:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"Author\"\r\n            onChange={(e) => setBookAuthor(e.target.value)}\r\n          />\r\n          <label>Genre:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"Genre\"\r\n            onChange={(e) => setBookGenre(e.target.value)}\r\n          />\r\n\r\n          <button onClick={addListing}>Submit</button>\r\n\r\n          <br />\r\n          <br />\r\n          <br />\r\n\r\n          <h1>My Listings</h1>\r\n          <br />\r\n          {bookList.map((val) => {\r\n            return (\r\n              <div className=\"card\">\r\n                <h1>{val.title}</h1>\r\n                <h4>By {val.author}</h4>\r\n                <p>{val.genres}</p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nexport {ListABook};\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { withAuthenticationRequired } from \"@auth0/auth0-react\";\r\nimport { Loading } from \"../components/index\";\r\n\r\nconst ProtectedRoute = ({ component, ...args }) => (\r\n  <Route\r\n    component={withAuthenticationRequired(component, {\r\n      onRedirecting: () => <Loading />,\r\n    })}\r\n    {...args}\r\n  />\r\n);\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport Axios from \"axios\";\r\n\r\nimport { NavBar, Footer } from \"./components\";\r\nimport {\r\n  Home,\r\n  Profile,\r\n  //ExternalApi,\r\n  Listings,\r\n  ListABook,\r\n  MyListings,\r\n} from \"./views\";\r\n\r\nimport \"./app.css\";\r\nimport ProtectedRoute from \"./auth/protected-route\";\r\n\r\nconst App = () => {\r\n  //check if the logged in user is in the database. If they aren't then add them\r\n  const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\r\n  const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\n  const addUserToDb = async () => {\r\n    const token = await getAccessTokenSilently();\r\n    const userId = user?.sub?.split(\"|\")[1];\r\n    const userEmail = user?.email;\r\n\r\n    Axios.post(\r\n      serverUrl + \"/api/users/insert\",\r\n      {\r\n        userId: userId,\r\n        userEmail: userEmail,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => {\r\n        if (response.data.affectedRows != 0) {\r\n          alert(\"User Added\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err.response.data);\r\n      });\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    addUserToDb();\r\n  }\r\n\r\n  return (\r\n    <div id=\"app\" className=\"d-flex flex-column h-100\">\r\n      <NavBar />\r\n      <div className=\"container flex-grow-1\">\r\n        <div className=\"mt-5\">\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <ProtectedRoute path=\"/profile\" component={Profile} />\r\n            <Route path=\"/listings\" component={Listings} />\r\n            <ProtectedRoute path=\"/listabook\" component={ListABook} />\r\n            <ProtectedRoute path=\"/mylistings\" component={MyListings} />\r\n            {/* <ProtectedRoute path=\"/external-api\" component={ExternalApi} /> */}\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\n\r\nconst Auth0ProviderWithHistory = ({ children }) => {\r\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\r\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\r\n  const audience = process.env.REACT_APP_AUTH0_AUDIENCE;\r\n\r\n  const history = useHistory();\r\n\r\n  const onRedirectCallback = (appState) => {\r\n    history.push(appState?.returnTo || window.location.pathname);\r\n  };\r\n\r\n  if (domain != undefined && clientId != undefined){\r\n    return ( \r\n      <Auth0Provider\r\n        domain={domain}\r\n        clientId={clientId}\r\n        redirectUri={window.location.origin}\r\n        onRedirectCallback={onRedirectCallback}\r\n        audience={audience}\r\n      >\r\n        {children}\r\n      </Auth0Provider>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Auth0ProviderWithHistory;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./app\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Auth0ProviderWithHistory from \"./auth/auth0-provider-with-history\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Auth0ProviderWithHistory>\r\n      <App />\r\n    </Auth0ProviderWithHistory>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}